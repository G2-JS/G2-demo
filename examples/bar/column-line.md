# 空心的柱状图

## code

```html
<div id="c1">
</div>
```

```js
var G2 = require('g2');
var data = [
  {"部门":"部门0","小组":"组名0","完成人数":37,"未完成人数":9},
  {"部门":"部门3","小组":"组名1","完成人数":33,"未完成人数":16},
  {"部门":"部门0","小组":"组名2","完成人数":29,"未完成人数":10},
  {"部门":"部门3","小组":"组名3","完成人数":14,"未完成人数":1},
  {"部门":"部门3","小组":"组名4","完成人数":43,"未完成人数":25},
  {"部门":"部门4","小组":"组名5","完成人数":98,"未完成人数":4},
  {"部门":"部门4","小组":"组名6","完成人数":88,"未完成人数":12},
  {"部门":"部门2","小组":"组名7","完成人数":50,"未完成人数":5},
  {"部门":"部门0","小组":"组名8","完成人数":59,"未完成人数":14},{"部门":"部门0","小组":"组名9","完成人数":60,"未完成人数":8},
  {"部门":"部门0","小组":"组名10","完成人数":83,"未完成人数":14},{"部门":"部门2","小组":"组名11","完成人数":86,"未完成人数":26},
  {"部门":"部门0","小组":"组名12","完成人数":67,"未完成人数":21},{"部门":"部门2","小组":"组名13","完成人数":63,"未完成人数":16},
  {"部门":"部门0","小组":"组名14","完成人数":46,"未完成人数":18},{"部门":"部门1","小组":"组名15","完成人数":34,"未完成人数":19},
  {"部门":"部门3","小组":"组名16","完成人数":45,"未完成人数":13},{"部门":"部门0","小组":"组名17","完成人数":19,"未完成人数":27},
  {"部门":"部门3","小组":"组名18","完成人数":50,"未完成人数":21},{"部门":"部门0","小组":"组名19","完成人数":74,"未完成人数":17},
  {"部门":"部门1","小组":"组名20","完成人数":71,"未完成人数":25},{"部门":"部门4","小组":"组名21","完成人数":52,"未完成人数":9},
  {"部门":"部门3","小组":"组名22","完成人数":43,"未完成人数":7},{"部门":"部门3","小组":"组名23","完成人数":38,"未完成人数":6},
  {"部门":"部门3","小组":"组名24","完成人数":33,"未完成人数":24},{"部门":"部门3","小组":"组名25","完成人数":13,"未完成人数":27},
  {"部门":"部门1","小组":"组名26","完成人数":28,"未完成人数":23},{"部门":"部门2","小组":"组名27","完成人数":76,"未完成人数":2},
  {"部门":"部门2","小组":"组名28","完成人数":13,"未完成人数":28},{"部门":"部门1","小组":"组名29","完成人数":90,"未完成人数":24}
];
// 按照部门排序
data.sort(function  (obj1,obj2) {
  return obj1['部门'] > obj2['部门'] ? 1 : -1;
});
data.forEach(function(obj){
  obj['未完成人数'] *= -1; // 将未完成人数转换成负数
});
 
var Stat = G2.Stat;
var Frame = G2.Frame;
var frame = new Frame(data);
G2.Global.shape.interval['stroke-width'] = 2;
 
// 将'完成人数','未完成人数' 合并成一列，增加完成状态字段
frame = Frame.combinColumns(frame,['完成人数','未完成人数'],'人数','完成状态');
var chart = new G2.Chart({
  id: 'c1',
  width : 1000,
  height : 450,
  plotCfg: {
    margin: [20, 100, 60, 80]
  }
});
 
var defs = {
  '人数': {
    formatter: function(value){
      return Math.abs(value); // 将负数格式化成正数
    }
  }
};
 
chart.source(frame,defs);
chart.axis('小组',{title: null});
chart.interval().position('小组*人数').color('部门').shape('完成状态',['rect','hollowRect']);
chart.render();
```
